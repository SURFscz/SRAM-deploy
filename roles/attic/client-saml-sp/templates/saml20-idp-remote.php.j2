<?php
/**
 * SURFnet {{ environment_string }} frontend metadata
 **/

{% set entity_test_idp     = "https://" ~ hostnames.idp ~ "/saml/saml2/idp/metadata.php" %}
{% set entity_test_idp_b64 = entity_test_idp | b64encode                                 %}

$metadata['https://{{ hostnames.proxy }}/md/SamlMirrorIdP.xml/SamlSP/{{ entity_test_idp_b64 }}'] = array (
  'entityid' => 'https://{{ hostnames.proxy }}/md/SamlMirrorIdP.xml/SamlSP/{{ entity_test_idp_b64 }}',
  'description' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Normal SP Org.',
  ),
  'OrganizationName' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Normal SP Org.',
  ),
  'name' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Normal SP',
  ),
  'OrganizationDisplayName' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Normal SP',
  ),
  'url' =>
  array (
    'en' => 'https://{{ hostnames.meta }}/',
  ),
  'OrganizationURL' =>
  array (
    'en' => 'https://{{ hostnames.meta }}/',
  ),
  'contacts' =>
  array (
    0 =>
    array (
      'contactType' => 'technical',
      'givenName' => 'Technical',
      'emailAddress' =>
      array (
        0 => 'technical@{{ hostnames.proxy }}',
      ),
    ),
    1 =>
    array (
      'contactType' => 'support',
      'givenName' => 'Support',
      'emailAddress' =>
      array (
        0 => 'support@{{ hostnames.proxy }}',
      ),
    ),
  ),
  'metadata-set' => 'saml20-idp-remote',
  'SingleSignOnService' =>
  array (
    0 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect',
      'Location' => 'https://{{ hostnames.proxy }}/SamlSP/{{ entity_test_idp_b64 }}/sso/redirect',
    ),
    1 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST',
      'Location' => 'https://{{ hostnames.proxy }}/SamlSP/{{ entity_test_idp_b64 }}/sso/post',
    ),
  ),
  'SingleLogoutService' =>
  array (
  ),
  'ArtifactResolutionService' =>
  array (
  ),
  'NameIDFormats' =>
  array (
    0 => 'urn:oasis:names:tc:SAML:2.0:nameid-format:persistent',
    1 => 'urn:oasis:names:tc:SAML:2.0:nameid-format:transient',
  ),
  'keys' =>
  array (
    0 =>
    array (
      'encryption' => false,
      'signing' => true,
      'type' => 'X509Certificate',
      'X509Certificate' => '{{ satosa_frontend_cert.pub | barepem }}',
    ),
  ),
  'UIInfo' =>
  array (
    'DisplayName' =>
    array (
      'en' => '{{ environment_string }} IdP',
    ),
    'Description' =>
    array (
      'en' => '{{ environment_string }} IdP description',
    ),
    'InformationURL' =>
    array (
    ),
    'PrivacyStatementURL' =>
    array (
    ),
    'Logo' =>
    array (
      0 =>
      array (
        'url' => 'https://{{ hostnames.sp }}/saml/resources/icons/ssplogo-fish-small.png',
        'height' => 41,
        'width' => 60,
      ),
    ),
  ),
);
$metadata['https://{{ hostnames.proxy }}/md/SamlMirrorIdP.xml/SamlMirrorSP/{{ entity_test_idp_b64 }}'] = array (
  'entityid' => 'https://{{ hostnames.proxy }}/md/SamlMirrorIdP.xml/SamlMirrorSP/{{ entity_test_idp_b64 }}',
  'description' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Mirrored SP Org.',
  ),
  'OrganizationName' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Mirrored SP Org.',
  ),
  'name' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Mirrored SP',
  ),
  'OrganizationDisplayName' =>
  array (
    'en' => '{{ environment_string }} Mirrored Proxy Mirrored SP',
  ),
  'url' =>
  array (
    'en' => 'https://{{ hostnames.meta }}/',
  ),
  'OrganizationURL' =>
  array (
    'en' => 'https://{{ hostnames.meta }}/',
  ),
  'contacts' =>
  array (
    0 =>
    array (
      'contactType' => 'technical',
      'givenName' => 'Technical',
      'emailAddress' =>
      array (
        0 => 'technical@{{ hostnames.proxy }}',
      ),
    ),
    1 =>
    array (
      'contactType' => 'support',
      'givenName' => 'Support',
      'emailAddress' =>
      array (
        0 => 'support@{{ hostnames.proxy }}',
      ),
    ),
  ),
  'metadata-set' => 'saml20-idp-remote',
  'SingleSignOnService' =>
  array (
    0 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect',
      'Location' => 'https://{{ hostnames.proxy }}/SamlMirrorSP/{{ entity_test_idp_b64 }}/sso/redirect',
    ),
    1 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST',
      'Location' => 'https://{{ hostnames.proxy }}/SamlMirrorSP/{{ entity_test_idp_b64 }}/sso/post',
    ),
  ),
  'SingleLogoutService' =>
  array (
  ),
  'ArtifactResolutionService' =>
  array (
  ),
  'NameIDFormats' =>
  array (
    0 => 'urn:oasis:names:tc:SAML:2.0:nameid-format:persistent',
    1 => 'urn:oasis:names:tc:SAML:2.0:nameid-format:transient',
  ),
  'keys' =>
  array (
    0 =>
    array (
      'encryption' => false,
      'signing' => true,
      'type' => 'X509Certificate',
      'X509Certificate' => '{{ satosa_frontend_cert.pub | barepem }}',
    ),
  ),
  'UIInfo' =>
  array (
    'DisplayName' =>
    array (
      'en' => '{{ environment_string }} IdP',
    ),
    'Description' =>
    array (
      'en' => '{{ environment_string }} IdP description',
    ),
    'InformationURL' =>
    array (
    ),
    'PrivacyStatementURL' =>
    array (
    ),
    'Logo' =>
    array (
      0 =>
      array (
        'url' => 'https://{{ hostnames.sp }}/saml/resources/icons/ssplogo-fish-small.png',
        'height' => 41,
        'width' => 60,
      ),
    ),
  ),
);
$metadata['https://{{ hostnames.proxy }}/md/SamlIdP.xml'] = array (
  'entityid' => 'https://{{ hostnames.proxy }}/md/SamlIdP.xml',
  'description' =>
  array (
    'en' => '{{ environment_string }} Normal Proxy Org.',
  ),
  'OrganizationName' =>
  array (
    'en' => '{{ environment_string }} Normal Proxy Org.',
  ),
  'name' =>
  array (
    'en' => '{{ environment_string }} Normal Proxy',
  ),
  'OrganizationDisplayName' =>
  array (
    'en' => '{{ environment_string }} Normal Proxy',
  ),
  'url' =>
  array (
    'en' => 'https://{{ hostnames.meta }}/',
  ),
  'OrganizationURL' =>
  array (
    'en' => 'https://{{ hostnames.meta }}/',
  ),
  'contacts' =>
  array (
    0 =>
    array (
      'contactType' => 'technical',
      'givenName' => 'Technical',
      'emailAddress' =>
      array (
        0 => 'technical@{{ hostnames.proxy }}',
      ),
    ),
    1 =>
    array (
      'contactType' => 'support',
      'givenName' => 'Support',
      'emailAddress' =>
      array (
        0 => 'support@{{ hostnames.proxy }}',
      ),
    ),
  ),
  'metadata-set' => 'saml20-idp-remote',
  'SingleSignOnService' =>
  array (
    0 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect',
      'Location' => 'https://{{ hostnames.proxy }}/SamlSP/sso/redirect',
    ),
    1 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect',
      'Location' => 'https://{{ hostnames.proxy }}/SamlMirrorSP/sso/redirect',
    ),
    2 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST',
      'Location' => 'https://{{ hostnames.proxy }}/SamlSP/sso/post',
    ),
    3 =>
    array (
      'Binding' => 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST',
      'Location' => 'https://{{ hostnames.proxy }}/SamlMirrorSP/sso/post',
    ),
  ),
  'SingleLogoutService' =>
  array (
  ),
  'ArtifactResolutionService' =>
  array (
  ),
  'NameIDFormats' =>
  array (
    0 => 'urn:oasis:names:tc:SAML:2.0:nameid-format:persistent',
    1 => 'urn:oasis:names:tc:SAML:2.0:nameid-format:transient',
  ),
  'keys' =>
  array (
    0 =>
    array (
      'encryption' => false,
      'signing' => true,
      'type' => 'X509Certificate',
      'X509Certificate' => '{{ satosa_frontend_cert.pub | barepem }}',
    ),
  ),
);
