[Unit]
Description=SCIM Monitor Runner

[Service]
Type=oneshot
WorkingDirectory={{ scim_monitor_dir }}
ReadWritePaths={{ scim_monitor_status_dir }}

DynamicUser=true
Group={{ scim_monitor_group }}

ExecStart={{ scim_monitor_dir }}/scimmonitor-{{ env }}.sh

SystemCallArchitectures=native
NoNewPrivileges=true
ProtectProc=invisible
ProcSubset=pid
ProtectSystem=strict
ProtectHome=true
InaccessiblePaths=/boot /dev /home /root /srv/ /var
PrivateTmp=true
PrivateDevices=true
PrivateUsers=true
ProtectClock=true
ProtectKernelTunables=true
ProtectKernelModules=true
ProtectKernelLogs=true
ProtectControlGroups=true
RestrictAddressFamilies=
LockPersonality=true
RestrictRealtime=yes
RestrictSUIDSGID=yes
RemoveIPC=true
